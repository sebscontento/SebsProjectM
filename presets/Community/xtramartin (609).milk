MILKDROP_PRESET_VERSION=201
PSVERSION=3
PSVERSION_WARP=3
PSVERSION_COMP=3
[preset00]
fRating=4.000
fGammaAdj=1.980
fDecay=0.500
fVideoEchoZoom=1.000
fVideoEchoAlpha=0.500
nVideoEchoOrientation=3
nWaveMode=2
bAdditiveWaves=1
bWaveDots=1
bWaveThick=0
bModWaveAlphaByVolume=0
bMaximizeWaveColor=0
bTexWrap=1
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=0
bDarken=1
bSolarize=0
bInvert=0
fWaveAlpha=0.001
fWaveScale=0.012
fWaveSmoothing=0.900
fWaveParam=0.000
fModWaveAlphaStart=0.750
fModWaveAlphaEnd=0.950
fWarpAnimSpeed=1.000
fWarpScale=1.000
fZoomExponent=1.00000
fShader=0.000
zoom=1.00000
rot=-0.02000
cx=0.500
cy=0.500
dx=0.00000
dy=0.02000
warp=0.11001
sx=0.99990
sy=1.00000
wave_r=0.500
wave_g=0.400
wave_b=0.300
wave_x=0.500
wave_y=0.500
ob_size=0.000
ob_r=0.000
ob_g=0.000
ob_b=0.000
ob_a=0.000
ib_size=0.000
ib_r=0.250
ib_g=0.250
ib_b=0.250
ib_a=0.000
nMotionVectorsX=0.000
nMotionVectorsY=43.200
mv_dx=0.000
mv_dy=0.000
mv_l=1.000
mv_r=1.000
mv_g=0.910
mv_b=0.710
mv_a=0.000
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=1.000
b1ed=0.000
wavecode_0_enabled=0
wavecode_0_samples=64
wavecode_0_sep=0
wavecode_0_bSpectrum=0
wavecode_0_bUseDots=0
wavecode_0_bDrawThick=1
wavecode_0_bAdditive=1
wavecode_0_scaling=1.00815
wavecode_0_smoothing=0.50000
wavecode_0_r=1.000
wavecode_0_g=1.000
wavecode_0_b=0.700
wavecode_0_a=0.100
wavecode_1_enabled=0
wavecode_1_samples=512
wavecode_1_sep=0
wavecode_1_bSpectrum=0
wavecode_1_bUseDots=0
wavecode_1_bDrawThick=0
wavecode_1_bAdditive=0
wavecode_1_scaling=1.00000
wavecode_1_smoothing=0.50000
wavecode_1_r=0.200
wavecode_1_g=1.000
wavecode_1_b=0.600
wavecode_1_a=1.000
wavecode_2_enabled=0
wavecode_2_samples=512
wavecode_2_sep=0
wavecode_2_bSpectrum=0
wavecode_2_bUseDots=1
wavecode_2_bDrawThick=1
wavecode_2_bAdditive=1
wavecode_2_scaling=1.00000
wavecode_2_smoothing=0.50000
wavecode_2_r=1.000
wavecode_2_g=0.600
wavecode_2_b=0.100
wavecode_2_a=1.000
wavecode_3_enabled=0
wavecode_3_samples=512
wavecode_3_sep=0
wavecode_3_bSpectrum=0
wavecode_3_bUseDots=1
wavecode_3_bDrawThick=1
wavecode_3_bAdditive=1
wavecode_3_scaling=1.00000
wavecode_3_smoothing=0.50000
wavecode_3_r=1.000
wavecode_3_g=0.300
wavecode_3_b=0.100
wavecode_3_a=1.000
shapecode_0_enabled=0
shapecode_0_sides=5
shapecode_0_additive=0
shapecode_0_thickOutline=0
shapecode_0_textured=1
shapecode_0_num_inst=64
shapecode_0_x=0.500
shapecode_0_y=0.500
shapecode_0_rad=0.09803
shapecode_0_ang=0.75398
shapecode_0_tex_ang=0.00000
shapecode_0_tex_zoom=0.77977
shapecode_0_r=1.000
shapecode_0_g=1.000
shapecode_0_b=1.000
shapecode_0_a=1.000
shapecode_0_r2=1.000
shapecode_0_g2=1.000
shapecode_0_b2=1.000
shapecode_0_a2=0.000
shapecode_0_border_r=1.000
shapecode_0_border_g=1.000
shapecode_0_border_b=1.000
shapecode_0_border_a=0.000
shapecode_1_enabled=0
shapecode_1_sides=4
shapecode_1_additive=0
shapecode_1_thickOutline=0
shapecode_1_textured=0
shapecode_1_num_inst=1
shapecode_1_x=0.500
shapecode_1_y=0.500
shapecode_1_rad=0.10000
shapecode_1_ang=0.00000
shapecode_1_tex_ang=0.00000
shapecode_1_tex_zoom=1.00000
shapecode_1_r=1.000
shapecode_1_g=0.000
shapecode_1_b=0.000
shapecode_1_a=1.000
shapecode_1_r2=0.000
shapecode_1_g2=1.000
shapecode_1_b2=0.000
shapecode_1_a2=0.000
shapecode_1_border_r=1.000
shapecode_1_border_g=1.000
shapecode_1_border_b=1.000
shapecode_1_border_a=0.100
shapecode_2_enabled=0
shapecode_2_sides=4
shapecode_2_additive=0
shapecode_2_thickOutline=0
shapecode_2_textured=0
shapecode_2_num_inst=1
shapecode_2_x=0.500
shapecode_2_y=0.500
shapecode_2_rad=0.10000
shapecode_2_ang=0.00000
shapecode_2_tex_ang=0.00000
shapecode_2_tex_zoom=1.00000
shapecode_2_r=1.000
shapecode_2_g=0.000
shapecode_2_b=0.000
shapecode_2_a=1.000
shapecode_2_r2=0.000
shapecode_2_g2=1.000
shapecode_2_b2=0.000
shapecode_2_a2=0.000
shapecode_2_border_r=1.000
shapecode_2_border_g=1.000
shapecode_2_border_b=1.000
shapecode_2_border_a=0.100
shapecode_3_enabled=0
shapecode_3_sides=5
shapecode_3_additive=1
shapecode_3_thickOutline=0
shapecode_3_textured=0
shapecode_3_num_inst=1
shapecode_3_x=0.500
shapecode_3_y=0.500
shapecode_3_rad=0.03809
shapecode_3_ang=0.00000
shapecode_3_tex_ang=0.00000
shapecode_3_tex_zoom=1.00000
shapecode_3_r=1.000
shapecode_3_g=1.000
shapecode_3_b=1.000
shapecode_3_a=1.000
shapecode_3_r2=0.000
shapecode_3_g2=0.600
shapecode_3_b2=1.000
shapecode_3_a2=0.000
shapecode_3_border_r=1.000
shapecode_3_border_g=1.000
shapecode_3_border_b=1.000
shapecode_3_border_a=0.100
per_frame_init_1=
per_frame_init_2=tries = 0; n = 0; len = 0; iter = 0;
per_frame_init_3=
per_frame_init_4=while (exec2(
per_frame_init_5=  c_re = rand(3)-2;
per_frame_init_6=  c_im = rand(2)-1;
per_frame_init_7=  iter = 0; zz_re = 0; zz_im = 0;
per_frame_init_8=  while (exec2 (
per_frame_init_9=    tmp_re = pow(zz_re,2) - pow(zz_im,2) + c_re;
per_frame_init_10=    tmp_im = 2*zz_re*zz_im + c_im;
per_frame_init_11=    zz_re = tmp_re; zz_im = tmp_im;
per_frame_init_12=    len = pow(zz_re,2) + pow(zz_im,2);
per_frame_init_13=    iter += 1;
per_frame_init_14=  ,(len <= 4)&&(iter < 50))); tries += 1,
per_frame_init_15=bnot((iter < 49) && (iter > 20)) )); 
per_frame_init_16=
per_frame_init_17=index = 0; t0 = 0;
per_frame_init_18=q1 = c_re; q2 = c_im;
per_frame_init_19=start = 1;
per_frame_init_20=
per_frame_init_21=e1 = .8; e2 = .25; e3 = .8;
per_frame_init_22=q29 = int(rand(40))+2;
per_frame_1=dec_med = pow (0.94, 30/fps);
per_frame_2=dec_slow = pow (0.94, 30/fps);
per_frame_3=beat = max (max (bass, mid), treb); 
per_frame_4=avg = avg*dec_slow + beat*(1-dec_slow);
per_frame_5=is_beat = above(beat, .5+avg+2*peak) * above (time, t0+1);
per_frame_6=t0 = if(is_beat,time,t0);
per_frame_7=peak = if(is_beat,beat,peak*dec_med);
per_frame_8=index = (index + is_beat);
per_frame_9=
per_frame_10=k1 =  is_beat*equal(index%4,0);
per_frame_11=p1 =  k1*(p1+1) + (1-k1)*p1;
per_frame_12=p2 = dec_slow * p2+ (1-dec_slow)*p1;
per_frame_13=p3 = dec_slow * p3+ (1-dec_slow)*p2;
per_frame_14=rott = p3 * 3.14159265358/3;
per_frame_15=q27 = index ;
per_frame_16=mx = mx + cos(rott)/fps/12;
per_frame_17=my = my + sin(rott)/fps/12;
per_frame_18=q21 = mx; q22 = my;
per_frame_19=
per_frame_20=q20 = (1.3+sin(mx*4)*sin(my*3));
per_frame_21=trig = is_beat * (index%12 ==0);
per_frame_22=trig = trig ||start;
per_frame_23=swap = if (trig,0.0,swap+1/150);
per_frame_24=if (trig,swap_=0,00);
per_frame_25=swap = min(swap,10);
per_frame_26=swap_ = swap_*dec_med + (1-dec_med)*swap;
per_frame_27=q30 = swap_*swap_;
per_frame_28=
per_frame_29=if (trig,
per_frame_30=  while (exec2(
per_frame_31=    c_re = rand(3)-2;
per_frame_32=    c_im = rand(2)-1;  
per_frame_33=    iter = 0; zz_re = 0; zz_im = 0;
per_frame_34=    while (exec2 (
per_frame_35=      tmp_re = pow(zz_re,2) - pow(zz_im,2) + c_re;
per_frame_36=      tmp_im = 2*zz_re*zz_im + c_im;
per_frame_37=      zz_re = tmp_re; zz_im = tmp_im;
per_frame_38=      len = pow(zz_re,2) + pow(zz_im,2);
per_frame_39=      iter += 1;
per_frame_40=    ,(len <= 4)&&(iter < 50))); tries += 1,
per_frame_41=  bnot((iter < 49) && (iter > 20)) ));,
per_frame_42=0);
per_frame_43=q1 = c_re; q2 = c_im;
per_frame_44=
per_frame_45=if (trig,
per_frame_46=  sel = int(rand(6));
per_frame_47=  if (sel==0, par1 = .5; par2 = .31; par3 = .81;,0);
per_frame_48=  if (sel==1, par1 = -.6; par2 = 1; par3 = .8;,0);
per_frame_49=  if (sel==2, par1 = .4; par2 = .2; par3 = .5;,0);
per_frame_50=  if (sel==3, par1 = .5; par2 = .0; par3 = .3;,0);
per_frame_51=  if (sel==4, par1 = 1.1; par2 = -.4; par3 = .4;,0);
per_frame_52=  if (sel==5, par1 = .2; par2 = .2; par3 = .5;,0);
per_frame_53=  if (sel==5, par1 = .6; par2 = .3; par3 = .5;,0);
per_frame_54=  par4 = rand(1);
per_frame_55=  par5 = max(sin(rand(20)),0)*.8;
per_frame_56=  par6 = rand(1)+.3;
per_frame_57=  par7 = rand(1)+.3;
per_frame_58=  par8 = rand(1)+.3;
per_frame_59=,0);
per_frame_60=
per_frame_61=q10 = par1; q11 = par2; q12 = par3;
per_frame_62=q13 = par4; q14 = par5; q15 = 2*sin(time*.023);
per_frame_63=
per_frame_64=q16 = par6; q17=par7; q18 = par8;
per_frame_65=
per_frame_66=
per_frame_67=monitor = par5;
per_frame_68=start = 0;
per_frame_69=//q30 = .3;
per_pixel_1=warp = bass/4;
per_pixel_2=dy = 0; dx = 0; rot = 0; zoom = 1.004;
per_pixel_3=
per_pixel_4=warp = 0; zoom = 1+.00*bass;
warp_1=`sampler sampler_pw_noise_lq;
warp_2=`sampler sampler_rand00;
warp_3=`sampler sampler_manyfish;
warp_4=`float2 uv1, c, zz;
warp_5=`//float3 col (float x) {return float3 (x,1-x,4*pow(x-.5,2));}
warp_6=`float3 col (float x) {return float3 (x,1-x,4*pow(x-.5,2));}
warp_7=`float3 col2 (float x) {return exp (-4*pow(float3 (x,x-.2,x-.5),1.1));}
warp_8=`
warp_9=`shader_body {
warp_10=`float zoom = q29;
warp_11=`
warp_12=`uv1 = (uv_orig-.5)*aspect.xy;
warp_13=`float trap1 = 100;
warp_14=`float trap2 = 100;
warp_15=`float trap3 = 100;
warp_16=`float trap4 = 100;
warp_17=`
warp_18=`//try whatever here
warp_19=`float2 p0 = rand_preset.xy-uv1*q15; 
warp_20=`
warp_21=`float ring = abs(rad-q30);
warp_22=`//ring = abs(max(abs(uv1.x),abs(uv1.y))-q30/2);
warp_23=`float mask1 = (ring <=.012);
warp_24=`float mask2 = (ring <= .01);
warp_25=`
warp_26=`float2 uv4 = 0.5 + (1 - abs( frac( (uv-.5) * 0.5 ) * 2 - 1.0 )-0.5)*1;
warp_27=`//p0 *= 1-GetPixel(frac(uv4*2));
warp_28=`
warp_29=`float iterations = 50 *mask1;
warp_30=`//Mandelbrot code
warp_31=`c = uv1/zoom+float2(q1,q2);
warp_32=`zz = 0; 
warp_33=`int n = 0; 
warp_34=`while ((n<iterations) && (dot(zz,zz) < 8))
warp_35=`{
warp_36=`zz = float2 (zz.x*zz.x - zz.y*zz.y, 2*zz.x*zz.y) + c;
warp_37=`trap1 = min(trap1, length(zz-p0));
warp_38=`trap2 = min (trap2, lerp(pow(zz.x-p0.x,q10),pow(zz.y-p0.y,q11),q12));
warp_39=`trap4 = min (trap4, sqrt(dot(zz,zz)-q13));
warp_40=`n++;
warp_41=`}
warp_42=`ret = lerp(pow(col(trap2*.8),4),exp(-trap4*18),q14) 
warp_43=`      + 1-exp(-.08*float3(q16,q17,q18)/trap1) + col2(1-trap4);
warp_44=`
warp_45=`
warp_46=`//ret = 1-exp(-3*trap4);
warp_47=`//ret = max(ret,.80*pow(tex2D (sampler_manyfish,float2(trap2,trap4)),1)*mask2);
warp_48=`ret *= 1-.0*lum(GetBlur2(uv));;
warp_49=`
warp_50=`ret = lerp( GetPixel(uv_orig),ret,mask2);
warp_51=`
warp_52=`
warp_53=`
warp_54=`}
comp_1=`sampler sampler_rand00;
comp_2=`sampler sampler_manyfish;
comp_3=`float2 uv0, uv1, c, zz;
comp_4=`float mask1, mask2, mask3, rad1, rad2, rad3, z, dist, inten;
comp_5=`float2 rs, rs0, uv2, uv3,uv4, rsk, Kugel1, Kugel2, Kugel3, dz1;
comp_6=`
comp_7=`float3 col (float x) {return float3 (x,1-x,1-2*x*x);}
comp_8=`
comp_9=`float3 MyGet (float2 uvi, float ring)
comp_10=`{
comp_11=`  return lerp (GetPixel(uvi),GetBlur2(uvi),saturate(1-12*ring));
comp_12=`}
comp_13=`shader_body {
comp_14=`uv0 = uv;
comp_15=`float zoom = q29;
comp_16=`uv1 = (uv-.5)*aspect.xy;
comp_17=`
comp_18=`//Mandelbrot code
comp_19=`c = uv1/zoom+float2(q1,q2);
comp_20=`zz = 0; 
comp_21=`int n = 0; 
comp_22=`while ((n<5) && (dot(zz,zz) < 40))
comp_23=`{zz = float2 (zz.x*zz.x - zz.y*zz.y, 2*zz.x*zz.y) + c;n++;}
comp_24=`
comp_25=`float2 uv2 = (.02/GetBlur1(uv)).xy/zz; //evtl nur 1/zz
comp_26=`float2 noise = tex2D (sampler_noise_hq,uv2+.1*time) ; //auch sampler_main !
comp_27=`uv += noise*.008 * saturate(1-lum(GetBlur1(uv)*1.4));
comp_28=`
comp_29=`  rsk = frac(uv1+.5)-.5;
comp_30=`  dz1 = normalize(rsk);
comp_31=`  rad1 = length (rsk)/(q30+.02)*4 ;
comp_32=`  uv +=  .1*q30*exp(-q30)*clamp(sin(rad1)*dz1,-8,8);
comp_33=`  uv = 0.5 + (1 - abs( frac( uv * 0.5 ) * 2 - 1.0 )-0.5)*1; // Eo.S. mirror code
comp_34=`  float ring = abs(rad*1.4-q30);
comp_35=`
comp_36=`uv1 = uv1/2+float2(q21,q22) + noise*.0 ;
comp_37=`  rsk = frac(uv1)-.5;
comp_38=`  dz1 = normalize(rsk);
comp_39=`  rad1 = 18*length (rsk) * q20;
comp_40=`  uv4 =  clamp(tan(rad1)*dz1,-4,4) ;
comp_41=`  mask1 = saturate(9-7*rad1);
comp_42=`  mask2 = saturate(9-6.8*rad1);
comp_43=`  Kugel1 = (uv4)*mask1 ;
comp_44=`
comp_45=`ret = MyGet(uv,ring)/2;
comp_46=`uv=  uv+Kugel1*.3;
comp_47=`uv = 0.5 + (1 - abs( frac( uv * 0.5 ) * 2 - 1.0 )-0.5)*1; // Eo.S. mirror code
comp_48=`ret += MyGet(uv,ring)/2;
comp_49=`//ret *= lerp(ret,ret.gbr,lum(ret));
comp_50=`ret *= lum(ret);
comp_51=`
comp_52=`ret += .2/rad1/rad1*(1-1*GetBlur1(float2(.51,.5)));
comp_53=`
comp_54=`ret *= 1-rad*rad*.41;
comp_55=`//ret += saturate(1-12*ring)*.2;
comp_56=`}