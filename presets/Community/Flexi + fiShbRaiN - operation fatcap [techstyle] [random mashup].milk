MILKDROP_PRESET_VERSION=201
PSVERSION=3
PSVERSION_WARP=3
PSVERSION_COMP=2
[preset00]
fRating=3.000
fGammaAdj=1.000
fDecay=0.955
fVideoEchoZoom=0.997
fVideoEchoAlpha=0.500
nVideoEchoOrientation=0
nWaveMode=7
bAdditiveWaves=1
bWaveDots=0
bWaveThick=0
bModWaveAlphaByVolume=1
bMaximizeWaveColor=0
bTexWrap=0
bDarkenCenter=0
bRedBlueStereo=0
bBrighten=0
bDarken=0
bSolarize=0
bInvert=0
fWaveAlpha=0.001
fWaveScale=1.286
fWaveSmoothing=0.630
fWaveParam=0.000
fModWaveAlphaStart=0.710
fModWaveAlphaEnd=1.300
fWarpAnimSpeed=1.186
fWarpScale=13.399
fZoomExponent=0.92178
fShader=1.000
zoom=0.99010
rot=0.00000
cx=0.500
cy=0.500
dx=0.00000
dy=0.00000
warp=0.28596
sx=1.00000
sy=1.00000
wave_r=0.650
wave_g=0.650
wave_b=0.650
wave_x=0.500
wave_y=0.500
ob_size=0.000
ob_r=0.000
ob_g=1.000
ob_b=0.000
ob_a=1.000
ib_size=0.000
ib_r=0.000
ib_g=0.000
ib_b=0.000
ib_a=1.000
nMotionVectorsX=64.000
nMotionVectorsY=48.000
mv_dx=0.000
mv_dy=0.000
mv_l=0.000
mv_r=1.000
mv_g=1.000
mv_b=1.000
mv_a=0.000
b1n=0.000
b2n=0.000
b3n=0.000
b1x=1.000
b2x=1.000
b3x=1.000
b1ed=0.250
wavecode_0_enabled=0
wavecode_0_samples=512
wavecode_0_sep=0
wavecode_0_bSpectrum=0
wavecode_0_bUseDots=0
wavecode_0_bDrawThick=1
wavecode_0_bAdditive=0
wavecode_0_scaling=1.00000
wavecode_0_smoothing=0.50000
wavecode_0_r=1.000
wavecode_0_g=1.000
wavecode_0_b=1.000
wavecode_0_a=1.000
wave_0_per_point1=ma=ma+(above(bass,1)*3.1415*.01*bass);
wave_0_per_point2=ma=ma-(above(treb,1)*3.1415*.01*treb);
wave_0_per_point3=
wave_0_per_point4=mx=mx+(.0002*cos(ma));
wave_0_per_point5=my=my+(.0002*sin(ma));
wave_0_per_point6=
wave_0_per_point7=mx=if(above(mx,.9),(.9-mx),mx);
wave_0_per_point8=my=if(above(my,.9),(.9-my),my);
wave_0_per_point9=mx=if(below(mx,.1),(.9+mx),mx);
wave_0_per_point10=my=if(below(my,.1),(.9+my),my);
wave_0_per_point11=
wave_0_per_point12=x=mx;
wave_0_per_point13=y=my;
wave_0_per_point14=
wave_0_per_point15=a=(above(bass+mid+treb,.8));
wavecode_1_enabled=0
wavecode_1_samples=512
wavecode_1_sep=0
wavecode_1_bSpectrum=0
wavecode_1_bUseDots=0
wavecode_1_bDrawThick=1
wavecode_1_bAdditive=0
wavecode_1_scaling=1.00000
wavecode_1_smoothing=0.50000
wavecode_1_r=1.000
wavecode_1_g=1.000
wavecode_1_b=1.000
wavecode_1_a=1.000
wave_1_per_point1=ma=ma+(above(bass,1)*3.1415*.05*bass);
wave_1_per_point2=ma=ma-(above(mid,1)*3.1415*.05*mid);
wave_1_per_point3=
wave_1_per_point4=mx=mx+(.0001*cos(ma));
wave_1_per_point5=my=my+(.0001*sin(ma));
wave_1_per_point6=
wave_1_per_point7=mx=if(above(mx,.9),(.9-mx),mx);
wave_1_per_point8=my=if(above(my,.9),(.9-my),my);
wave_1_per_point9=mx=if(below(mx,.1),(.9+mx),mx);
wave_1_per_point10=my=if(below(my,.1),(.9+my),my);
wave_1_per_point11=
wave_1_per_point12=x=mx;
wave_1_per_point13=y=my;
wave_1_per_point14=
wave_1_per_point15=a=(above(bass+mid+treb,.1));
wavecode_2_enabled=0
wavecode_2_samples=512
wavecode_2_sep=0
wavecode_2_bSpectrum=0
wavecode_2_bUseDots=0
wavecode_2_bDrawThick=1
wavecode_2_bAdditive=0
wavecode_2_scaling=1.00000
wavecode_2_smoothing=0.50000
wavecode_2_r=1.000
wavecode_2_g=1.000
wavecode_2_b=1.000
wavecode_2_a=1.000
wave_2_per_point1=ma=ma+(above(mid,1)*3.1415*.01*mid);
wave_2_per_point2=ma=ma-(above(treb,1)*3.1415*.01*treb);
wave_2_per_point3=
wave_2_per_point4=mx=mx+(.0004*cos(ma));
wave_2_per_point5=my=my+(.0004*sin(ma));
wave_2_per_point6=
wave_2_per_point7=mx=if(above(mx,.9),(.9-mx),mx);
wave_2_per_point8=my=if(above(my,.9),(.9-my),my);
wave_2_per_point9=mx=if(below(mx,.1),(.9+mx),mx);
wave_2_per_point10=my=if(below(my,.1),(.9+my),my);
wave_2_per_point11=
wave_2_per_point12=x=mx;
wave_2_per_point13=y=my;
wave_2_per_point14=
wave_2_per_point15=a=(above(bass+mid+treb,.3));
wavecode_3_enabled=0
wavecode_3_samples=512
wavecode_3_sep=0
wavecode_3_bSpectrum=0
wavecode_3_bUseDots=0
wavecode_3_bDrawThick=1
wavecode_3_bAdditive=0
wavecode_3_scaling=1.00000
wavecode_3_smoothing=0.50000
wavecode_3_r=1.000
wavecode_3_g=1.000
wavecode_3_b=1.000
wavecode_3_a=1.000
wave_3_per_point1=ma=ma+(above(bass,.5)*3.1415*.02*bass);
wave_3_per_point2=ma=ma-(above(treb,.5)*3.1415*.02*treb);
wave_3_per_point3=
wave_3_per_point4=mx=mx+(.0008*cos(ma));
wave_3_per_point5=my=my+(.0008*sin(ma));
wave_3_per_point6=
wave_3_per_point7=mx=if(above(mx,.9),(.9-mx),mx);
wave_3_per_point8=my=if(above(my,.9),(.9-my),my);
wave_3_per_point9=mx=if(below(mx,.1),(.9+mx),mx);
wave_3_per_point10=my=if(below(my,.1),(.9+my),my);
wave_3_per_point11=
wave_3_per_point12=x=mx;
wave_3_per_point13=y=my;
wave_3_per_point14=
wave_3_per_point15=a=(above(bass+mid+treb,.2));
shapecode_0_enabled=1
shapecode_0_sides=4
shapecode_0_additive=0
shapecode_0_thickOutline=1
shapecode_0_textured=0
shapecode_0_num_inst=32
shapecode_0_x=0.500
shapecode_0_y=0.500
shapecode_0_rad=0.03300
shapecode_0_ang=0.00000
shapecode_0_tex_ang=0.62832
shapecode_0_tex_zoom=1.00000
shapecode_0_r=1.000
shapecode_0_g=0.000
shapecode_0_b=0.000
shapecode_0_a=0.290
shapecode_0_r2=1.000
shapecode_0_g2=0.000
shapecode_0_b2=0.000
shapecode_0_a2=0.000
shapecode_0_border_r=0.000
shapecode_0_border_g=0.000
shapecode_0_border_b=0.000
shapecode_0_border_a=0.040
shape_0_per_frame1=ma=ma+(above(bass,1)*3.1415*.01*bass);
shape_0_per_frame2=ma=ma-(above(treb,1)*3.1415*.01*treb);
shape_0_per_frame3=
shape_0_per_frame4=mx=mx+(.0002*cos(ma));
shape_0_per_frame5=my=my+(.0002*sin(ma));
shape_0_per_frame6=
shape_0_per_frame7=mx=if(above(mx,.9),(.9-mx),mx);
shape_0_per_frame8=my=if(above(my,.9),(.9-my),my);
shape_0_per_frame9=mx=if(below(mx,.1),(.9+mx),mx);
shape_0_per_frame10=my=if(below(my,.1),(.9+my),my);
shape_0_per_frame11=
shape_0_per_frame12=x=mx;
shape_0_per_frame13=y=my;
shape_0_per_frame14=
shape_0_per_frame15=//a=(above(bass+mid+treb,.8));
shapecode_1_enabled=1
shapecode_1_sides=6
shapecode_1_additive=1
shapecode_1_thickOutline=0
shapecode_1_textured=0
shapecode_1_num_inst=412
shapecode_1_x=0.500
shapecode_1_y=0.500
shapecode_1_rad=0.04914
shapecode_1_ang=0.00000
shapecode_1_tex_ang=0.62832
shapecode_1_tex_zoom=1.00000
shapecode_1_r=0.040
shapecode_1_g=0.000
shapecode_1_b=0.000
shapecode_1_a=0.150
shapecode_1_r2=0.000
shapecode_1_g2=0.000
shapecode_1_b2=0.000
shapecode_1_a2=0.000
shapecode_1_border_r=1.000
shapecode_1_border_g=1.000
shapecode_1_border_b=1.000
shapecode_1_border_a=0.000
shape_1_per_frame1=ma=ma+(above(bass,1)*3.1415*.05*bass);
shape_1_per_frame2=ma=ma-(above(mid,1)*3.1415*.05*mid);
shape_1_per_frame3=
shape_1_per_frame4=mx=mx+(.0001*cos(ma));
shape_1_per_frame5=my=my+(.0001*sin(ma));
shape_1_per_frame6=
shape_1_per_frame7=mx=if(above(mx,.9),(.9-mx),mx);
shape_1_per_frame8=my=if(above(my,.9),(.9-my),my);
shape_1_per_frame9=mx=if(below(mx,.1),(.9+mx),mx);
shape_1_per_frame10=my=if(below(my,.1),(.9+my),my);
shape_1_per_frame11=
shape_1_per_frame12=x=mx;
shape_1_per_frame13=y=my;
shape_1_per_frame14=
shape_1_per_frame15=//a=(above(bass+mid+treb,.1));
shapecode_2_enabled=1
shapecode_2_sides=12
shapecode_2_additive=1
shapecode_2_thickOutline=0
shapecode_2_textured=0
shapecode_2_num_inst=512
shapecode_2_x=0.500
shapecode_2_y=0.550
shapecode_2_rad=0.08243
shapecode_2_ang=0.00000
shapecode_2_tex_ang=0.00000
shapecode_2_tex_zoom=0.78740
shapecode_2_r=0.000
shapecode_2_g=0.040
shapecode_2_b=0.600
shapecode_2_a=1.000
shapecode_2_r2=0.010
shapecode_2_g2=0.000
shapecode_2_b2=0.000
shapecode_2_a2=0.050
shapecode_2_border_r=1.000
shapecode_2_border_g=1.000
shapecode_2_border_b=1.000
shapecode_2_border_a=0.000
shape_2_init1=started = 0;
shape_2_init2=t1 = 0.412; //seeds for pseudo random generator
shape_2_init3=t2 = 0.4563;
shape_2_init4=t3 = 0.6452;
shape_2_init5=t4 = 0.2565;
shape_2_per_frame1=bb = bb + bass*bass*0.85*equal(instance,0);
shape_2_per_frame2=mm = mm + mid*mid*0.85*equal(instance,0);
shape_2_per_frame3=tt = tt + treb*treb*0.85*equal(instance,0);
shape_2_per_frame4=
shape_2_per_frame5=q3 = bb*0.012;
shape_2_per_frame6=q4 = mm*0.012;
shape_2_per_frame7=q5 = tt*0.012;
shape_2_per_frame8=
shape_2_per_frame9=rnd1 = if(equal(instance,0),t1,rnd1);
shape_2_per_frame10=rnd2 = if(equal(instance,0),t2,rnd2);
shape_2_per_frame11=rnd3 = if(equal(instance,0),t3,rnd3);
shape_2_per_frame12=rnd4 = if(equal(instance,0),t4,rnd4);
shape_2_per_frame13=rnd1 = 4*rnd1*(1-rnd1);
shape_2_per_frame14=rnd2 = 4*rnd2*(1-rnd2);
shape_2_per_frame15=rnd3 = 4*rnd3*(1-rnd3);
shape_2_per_frame16=rnd4 = 4*rnd4*(1-rnd4);
shape_2_per_frame17=t = .6;
shape_2_per_frame18=t =  (rnd1+time*t) - int(rnd1+time*t);
shape_2_per_frame19=t = t + rnd2*0.1;
shape_2_per_frame20=wh = rnd4*asin(1)*4;
shape_2_per_frame21=wv = 0.25 + rnd3*0.1;
shape_2_per_frame22=
shape_2_per_frame23=d = 1.4; // makes the perspective impact
shape_2_per_frame24=zoom = 1;
shape_2_per_frame25=l = 1;
shape_2_per_frame26=
shape_2_per_frame27=// Kardan angles
shape_2_per_frame28=
shape_2_per_frame29=w1 = q3; // first rotation: clockwise in the desktop pane
shape_2_per_frame30=w2 = q4; // rotation around vertical axis
shape_2_per_frame31=w3 = q5; // rotation around horizontal axis
shape_2_per_frame32=
shape_2_per_frame33=
shape_2_per_frame34=// definition of the 3D shape
shape_2_per_frame35=
shape_2_per_frame36=i = instance;
shape_2_per_frame37=
shape_2_per_frame38=my_x = t *(cos(wh)*sin(wv)*l);
shape_2_per_frame39=my_y = (-0.5 +(t-0.75)*(t-0.75))*cos(wv)*l;
shape_2_per_frame40=my_z = t*(sin(wh)*sin(wv)*l);
shape_2_per_frame41=
shape_2_per_frame42=
shape_2_per_frame43=// 3D rotations
shape_2_per_frame44=
shape_2_per_frame45=x1 = cos(w1)*my_x + sin(w1)*my_y;
shape_2_per_frame46=y1 = -sin(w1)*my_x + cos(w1)*my_y;
shape_2_per_frame47=z1 = my_z;
shape_2_per_frame48=
shape_2_per_frame49=x2 = cos(w2)*x1 + sin(w2)*z1;
shape_2_per_frame50=z2 = -sin(w2)*x1 + cos(w2)*z1;
shape_2_per_frame51=y2 = y1;
shape_2_per_frame52=
shape_2_per_frame53=y3 = cos(w3)*y2 + sin(w3)*z2;
shape_2_per_frame54=z3 = -sin(w3)*y2 + cos(w3)*z2;
shape_2_per_frame55=x3 = x2;
shape_2_per_frame56=
shape_2_per_frame57=// perspective calculation
shape_2_per_frame58=
shape_2_per_frame59=p = tan(asin(1) + atan2(d+z3,sqrt(x3*x3 + y3*y3)));
shape_2_per_frame60=d = sqrt(x3*x3 + y3*y3 + (z3+d)*(z3+d));
shape_2_per_frame61=
shape_2_per_frame62=rad = rad/d;
shape_2_per_frame63=my_x = zoom*sin(atan2(x3,y3))*p;
shape_2_per_frame64=my_y = zoom*cos(atan2(x3,y3))*p;
shape_2_per_frame65=
shape_2_per_frame66=x = 0.5 + my_x;
shape_2_per_frame67=y = 0.5 + my_y;
shape_2_per_frame68=
shape_2_per_frame69=x = 0.5 + (x-0.5)*q10;
shape_2_per_frame70=y = 0.5 + (y-0.5)*q9;
shapecode_3_enabled=1
shapecode_3_sides=8
shapecode_3_additive=0
shapecode_3_thickOutline=0
shapecode_3_textured=0
shapecode_3_num_inst=64
shapecode_3_x=0.500
shapecode_3_y=0.500
shapecode_3_rad=0.02118
shapecode_3_ang=0.00000
shapecode_3_tex_ang=0.62832
shapecode_3_tex_zoom=1.00000
shapecode_3_r=1.000
shapecode_3_g=0.000
shapecode_3_b=0.000
shapecode_3_a=0.200
shapecode_3_r2=1.000
shapecode_3_g2=0.000
shapecode_3_b2=0.000
shapecode_3_a2=0.000
shapecode_3_border_r=0.000
shapecode_3_border_g=0.000
shapecode_3_border_b=0.000
shapecode_3_border_a=0.500
shape_3_per_frame1=ma=ma+(above(bass,.5)*3.1415*.02*bass);
shape_3_per_frame2=ma=ma-(above(treb,.5)*3.1415*.02*treb);
shape_3_per_frame3=
shape_3_per_frame4=mx=mx+(.0008*cos(ma));
shape_3_per_frame5=my=my+(.0008*sin(ma));
shape_3_per_frame6=
shape_3_per_frame7=mx=if(above(mx,.9),(.9-mx),mx);
shape_3_per_frame8=my=if(above(my,.9),(.9-my),my);
shape_3_per_frame9=mx=if(below(mx,.1),(.9+mx),mx);
shape_3_per_frame10=my=if(below(my,.1),(.9+my),my);
shape_3_per_frame11=
shape_3_per_frame12=x=mx;
shape_3_per_frame13=y=my;
shape_3_per_frame14=
shape_3_per_frame15=//a=(above(bass+mid+treb,.2));
per_frame_init_1=x1 = 0.9;
per_frame_init_2=y1 = 0.5;
per_frame_init_3=
per_frame_init_4=x2 = 0.5; y2 = 0.5;
per_frame_init_5=x3 = 0.5; y3 = 0.5;
per_frame_init_6=x4 = 0.5; y4 = 0.5;
per_frame_1=xx1 = xx1*0.9 + (bass)*0.01;
per_frame_2=xx2 = xx2*0.9 + (treb)*0.01;
per_frame_3=yy1 = yy1*0.94 + (treb+bass)*0.0075;
per_frame_4=
per_frame_5=x1 = 0.5 + (xx1-xx2)*2;
per_frame_6=y1 = 0.4 + yy1;
per_frame_7=
per_frame_8=x1 = max(0,min(1,x1)); y1 = max(0,min(1,y1));
per_frame_9=
per_frame_10=spring = 10;
per_frame_11=grav = .5;
per_frame_12=resist = 1;
per_frame_13=bounce = 0.75;
per_frame_14=dt = 0.0003*(60/fps);
per_frame_15=
per_frame_16=vx2 = vx2*(1-resist*dt) + dt*((x1+x3-2*x2)*spring);
per_frame_17=vy2 = vy2*(1-resist*dt) + dt*((y1+y3-2*y2)*spring-grav);
per_frame_18=vx3 = vx3*(1-resist*dt) + dt*((x2+x4-2*x3)*spring);
per_frame_19=vy3 = vy3*(1-resist*dt) + dt*((y2+y4-2*y3)*spring-grav);
per_frame_20=vx4 = vx4*(1-resist*dt) + dt*((x3-x4)*spring);
per_frame_21=vy4 = vy4*(1-resist*dt) + dt*((y3-y4)*spring-grav);
per_frame_22=
per_frame_23=x2 = x2 + vx2;
per_frame_24=y2 = y2 + vy2;
per_frame_25=x3 = x3 + vx3;
per_frame_26=y3 = y3 + vy3;
per_frame_27=x4 = x4 + vx4;
per_frame_28=y4 = y4 + vy4;
per_frame_29=
per_frame_30=vx2 = if(above(x2,0),vx2,abs(vx2)*bounce);
per_frame_31=vx2 = if(below(x2,1),vx2,-abs(vx2)*bounce);
per_frame_32=vx3 = if(above(x3,0),vx3,abs(vx3)*bounce);
per_frame_33=vx3 = if(below(x3,1),vx3,-abs(vx3)*bounce);
per_frame_34=vx4 = if(above(x4,0),vx4,abs(vx4)*bounce);
per_frame_35=vx4 = if(below(x4,1),vx4,-abs(vx4)*bounce);
per_frame_36=vy2 = if(above(y2,0),vy2,abs(vy2)*bounce);
per_frame_37=vy2 = if(below(y2,1),vy2,-abs(vy2)*bounce);
per_frame_38=vy3 = if(above(y3,0),vy3,abs(vy3)*bounce);
per_frame_39=vy3 = if(below(y3,1),vy3,-abs(vy3)*bounce);
per_frame_40=vy4 = if(above(y4,0),vy4,abs(vy4)*bounce);
per_frame_41=vy4 = if(below(y4,1),vy4,-abs(vy4)*bounce);
per_frame_42=q1 = x1;q2 = x2;q3 = x3;q4 = x4;
per_frame_43=q5 = y1;q6 = y2;q7 = y3;q8 = y4;
per_frame_44=q9 = 1/aspectx;
per_frame_45=q10 = 1/aspecty;
per_frame_46=q11 = aspectx;
per_frame_47=q12 = aspecty;
per_frame_48=q13 = sqrt(vx4*vx4 + vy4*vy4);
per_frame_49=q14 = atan2(vx4,vy4);
per_frame_50=q15 = sin(q14);
per_frame_51=q16 = cos(q14);
per_frame_52=
per_frame_53=//warp = 0;
per_frame_54=zoom = 1;
per_frame_55=a = a*0.95 + q5;
per_frame_56=
per_frame_57=s = s*0.9 + a;
per_frame_58=q3 = s*0.1;
per_frame_59=monitor = s;
per_frame_60=
per_frame_61=wave_a = 0;
warp_1=`float dist, struc; float2 uv0, uv1; float3 box;
warp_2=`static const float3x3 RotMat = float3x3(q20,q21,q22,q23,q24,q25,q26,q27,q28);
warp_3=`static const float3 CamPos = float3(q4,q5,q6);
warp_4=`static const float myzoom = q7,  res = q31, resInv = q29, res2 = 64, res2Inv = 1.0/64.0, limit = 20;
warp_5=`static const float sustain = .98 - q14*2, change = q14;
warp_6=`
warp_7=`float2 fstep2(float2 xy) 
warp_8=`{
warp_9=`   //Eo.S. replaced 1.0/res with resInv so shader doesn't have to do division
warp_10=`   return resInv*round(res*xy);
warp_11=`   
warp_12=`}
warp_13=`
warp_14=`float GetDist(float2 uvi) 
warp_15=`{
warp_16=`   float2 tmp; 
warp_17=`   tmp = fstep2( tex2D(sampler_pw_main, uvi).gb ); 
warp_18=`   //return pow( 1.0-( res2Inv*(tmp.x-0.505) + tmp.y ), q3 );//Eo.S> replaced 1/q30 with q3
warp_19=`   return 1.0-( res2Inv*(tmp.x-0.505) + tmp.y );//Eo.S> q3 is always 1, so remove pow()
warp_20=`}
warp_21=`
warp_22=`float2 PutDist(float x) {
warp_23=`  float tmp; x = pow(x,q30);   
warp_24=`  tmp = fstep2(1-x);
warp_25=`  return (float2(res2*((1-x)-tmp)+.495,tmp));
warp_26=`}
warp_27=`
warp_28=`float MinDist (float2 uvi) 
warp_29=`{
warp_30=`   float tmp; float4 nb; float4 nb2; float2 pix;
warp_31=`   
warp_32=`   pix = texsize.zw*(1.0+length(uvi-0.5)*3.0);
warp_33=`   tmp = GetDist(uvi);
warp_34=`   nb.x = GetDist(uvi+pix*float2(-1,-1));  
warp_35=`   nb.y = GetDist(uvi+pix*float2(1,-1));
warp_36=`   nb.z = GetDist(uvi+pix*float2(1,1));   
warp_37=`   nb.w = GetDist(uvi+pix*float2(-1,1));
warp_38=`   //tmp = min(tmp,min(min(min(nb.x, nb.y),nb.z),nb.w)) ;
warp_39=`   nb2.x = GetDist(uvi+pix*float2(0,-1));  
warp_40=`   nb2.y = GetDist(uvi+pix*float2(1,0));
warp_41=`   nb2.z = GetDist(uvi+pix*float2(0,1));   
warp_42=`   nb2.w = GetDist(uvi+pix*float2(-1,0));
warp_43=`   //tmp = min(tmp,min(min(min(nb.x, nb.y),nb.z),nb.w)) ;
warp_44=`   
warp_45=`   //Eo.S. more efficient usage of min to get min value of all 8 GetDist() calls, removes 11ALU
warp_46=`   nb = min( nb, nb2 );
warp_47=`   nb.xy = min( nb.xy, nb.zw );
warp_48=`   tmp = min( nb.x, nb.y );
warp_49=`   return tmp;
warp_50=`}
warp_51=`
warp_52=`float3 Get1 (float2 uvi) 
warp_53=`{
warp_54=`   float3 tmp; float2 pix;
warp_55=`   tmp = GetBlur1(uvi)*3;
warp_56=`   return lerp (GetPixel(uvi),tmp/3,change*4);
warp_57=`}
warp_58=`
warp_59=`float3 mbox (float3 uvi) 
warp_60=`{
warp_61=`   float3 zz, zz0; float tmp, li;
warp_62=`   zz = uvi; zz0 = zz;
warp_63=`   for (int n = 0; n <= 7; n++) 
warp_64=`   {
warp_65=`      zz = 2.0*clamp(zz,-1,1)-zz;  tmp = dot(zz,zz);
warp_66=`      if (tmp <= 0.25) {zz *= 4;} else if (tmp <= 1) {zz /= pow(tmp,1);}
warp_67=`      zz = 2.6*zz + zz0;
warp_68=`   }
warp_69=`   return zz;
warp_70=`}
warp_71=`
warp_72=`shader_body {
warp_73=`
warp_74=`   uv = (uv-.5)*q13 + .5;
warp_75=`   uv1 = (uv-.5)*aspect.xy;
warp_76=`   float3 noise = frac(8*tex2D(sampler_noise_lq,uv+rand_frame.yz)); 
warp_77=`
warp_78=`   dist = noise.r;
warp_79=`   if (noise.g > 0.2) 
warp_80=`   {
warp_81=`       //dist = MinDist( (noise.zy-0.5) * 0.003 +uv ) +  0.005 * (noise.x-0.4) * abs(noise.y-0.5);
warp_82=`       float3 noiseBiased = noise - float3( 0.4, 0.5, 0.5 );//Eo.S. combine the subtraction on noise to a single float3 to ensure compiler does the subtraction in a single ALU
warp_83=`       dist = MinDist( (noiseBiased.zy) * 0.003 +uv ) +  0.005 * (noiseBiased.x) * abs(noiseBiased.y);
warp_84=`   }
warp_85=`   dist = min(dist,GetDist(uv));
warp_86=`
warp_87=`   float3 uv2 = mul(float3(uv1*dist,dist-.02)/myzoom,RotMat)+CamPos;
warp_88=`   uv2 = (frac(uv2/8.0+.5)-.5)*8.0;
warp_89=`   box = mbox (uv2);
warp_90=`   float len = (length(box));
warp_91=`   struc = length(box.zy) /limit;
warp_92=`
warp_93=`   if ((dist <= GetDist(uv)) && (len < limit) && (dist > 0.005))
warp_94=`   {
warp_95=`      ret.r = (1-sustain)*struc+sustain*(Get1(uv).r); ret.gb=  PutDist(dist); 
warp_96=`   } 
warp_97=`   else 
warp_98=`   {
warp_99=`      ret = tex2D(sampler_pc_main,uv_orig) * float3(sustain, 1.0, 1.0)-float3(0.0, 0.0, change);
warp_100=`   } 
warp_101=`   //ret = noise;
warp_102=`}
comp_1=`float2 d;
comp_2=`float3 dx, dy;
comp_3=`
comp_4=`shader_body
comp_5=`{
comp_6=`   d = texsize.zw*1.5;
comp_7=`   dx = GetPixel(uv_orig + float2(1,0)*d) - GetPixel(uv_orig - float2(1,0)*d);
comp_8=`   dy = GetPixel(uv_orig + float2(0,1)*d) - GetPixel(uv_orig - float2(0,1)*d);
comp_9=`
comp_10=`
comp_11=`ret = GetPixel(uv).x*(1-length(float2(dx.y,dy.y)*8))*pow(hue_shader,6)*1.4;
comp_12=`ret = lerp(ret,float3(1,1,1),length(float2(dx.z,dy.z)*4));
comp_13=`
comp_14=`
comp_15=`}
